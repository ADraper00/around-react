{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","id","src","logo","alt","CurrentUserContext","React","createContext","Card","cardData","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","like","link","name","onClick","type","length","Main","props","avatar","isLoading","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","map","card","index","onDeletePlaceClick","Footer","ImagePopup","onClose","PopupWithForm","useState","isValid","updateFormValidity","formRef","useRef","useEffect","current","checkValidity","isOpen","noValidate","ref","onChange","onSubmit","action","title","children","disabled","buttonLabel","EditProfilePopup","onUpdateUser","isSubmitting","onOverlayClick","updateName","description","updateAbout","isNameInputValid","updateNameInputValidity","isAboutInputValid","updateAboutInputValidity","nameErrorMessage","updateNameErrorMessage","aboutErrorMessage","updateAboutErrorMessage","handleChange","evt","stateUpdater","inputValidityUpdater","errorMessageUpdater","target","value","e","preventDefault","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","inputRef","isUrlInputValid","updateUrlInputValidity","errorMessage","updateErrorMessage","AddPlacePopup","updateLink","isLinkInputValid","updateLinkInputValidity","linkErrorMessage","updateLinkErrorMessage","onAddPlace","DeletePlacePopup","onDeletePlace","api","baseUrl","authorization","this","_baseUrl","_auth","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","method","body","JSON","stringify","cardId","App","isEditAvatarPopupOpen","updateAvatarPopupState","isEditProfilePopupOpen","updateEditProfilePopupState","isAddPlacePopupOpen","updateAddPlacePopupState","isDeletePlacePopupOpen","updateDeletePlacePopupState","isSubmitPending","updateSubmitPendingStatus","selectedCard","updateSelectedCard","cardQueuedForDeletion","updateCardQueuedForDeletion","updateLoading","updateCurrentUser","updateCards","updateInputValidity","validity","valid","validationMessage","closeAllPopups","window","removeEventListener","handleCloseOnEscape","handleCloseOnOverlay","key","classList","contains","getGroupCards","data","catch","err","console","error","getUserInfo","Provider","addEventListener","changeLikeCardStatus","likedCard","cardItem","userData","updateProfile","addCard","newCard","updateAvatar","deleteCard","response","filter","stateCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3377b8ce.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from '../images/logo.svg';\n\nexport default function Header() {\n  return (\n    <>\n      <header className=\"header\">\n        <img id=\"logo\" src={logo} alt=\"Around the U.S.\" className=\"logo\" />\n      </header>\n    </>\n  );\n}\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nexport default function Card({ cardData, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = cardData.owner._id === currentUser._id;\n  const isLiked = cardData.likes.some(like => like._id === currentUser._id);\n\n  function handleClick() {\n    onCardClick(cardData);\n  }\n  \n  function handleLike() {\n    onCardLike(cardData);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(cardData);\n  }\n\n  return (\n    <article className=\"card\">\n      <img className=\"card__image\" src={cardData.link} alt={`${cardData.name} taken by ${cardData.owner.name}`} onClick={handleClick} />\n      <div className=\"card__name-box\">\n        <h2 className=\"card__name\">{cardData.name}</h2>\n        <div className=\"card__like-container\">\n          <button type=\"button\" name=\"Like image\" onClick={handleLike} className={`card__heart ${isLiked && 'card__heart_liked'}`} aria-label=\"Like photo\"></button>\n          <p className=\"card__likes\">{cardData.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" name=\"Delete image\" onClick={handleDeleteClick} className={`card__delete ${isOwn ? 'element__delete_visable' : 'card__delete_hidden'}`} aria-label=\"Delete photo\"></button>\n    </article>\n  );\n}\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  \n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__info-box\">\n          <div className=\"profile__avatar-wrapper\">\n            <img id=\"avatar\" src={currentUser.avatar} alt=\"avatar\" className={`profile__avatar ${props.isLoading }`} />\n            <div onClick={props.onEditAvatarClick} className=\"profile__avatar-overlay\"></div>\n          </div>\n          <div className=\"profile__text\">\n            <div className=\"profile__text-top\">\n              <h1 className={`profile__name $${props.isLoading }`}>{currentUser.name}</h1>\n              <button onClick={props.onEditProfileClick} type=\"button\" name=\"Edit profile\" className={`profile__edit-button ${props.isLoading }`} aria-label=\"Edit profile\"></button>\n            </div>\n            <p className={`profile__title ${props.isLoading}`}>{currentUser.about}</p>\n          </div>\n        </div>\n        <button onClick={props.onAddPlaceClick} type=\"button\" name=\"Add image\" className={`profile__add-button ${props.isLoading}`} aria-label=\"Add image\"></button>\n      </section>\n      <section className=\"cards\">\n      {props.cards.map((card, index) => (\n          <Card key={card._id} cardData={card} onCardClick={props.onCardClick} onCardDelete={props.onDeletePlaceClick} onCardLike={props.onCardLike}/>\n        ))}\n      </section>\n    </main>\n  );\n}","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Around the U.S.</p>\n    </footer>\n  );\n}","export default function ImagePopup(props) {\n  return (\n    <div className={`popup popup_role_image ${props.card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_role_image\">\n        <figure className=\"popup__figure\">\n          <img src={`${props.card ? props.card.link : '#'}`} alt=\"#\" className=\"popup__image\" />\n          <figcaption className=\"popup__caption\">{`${props.card && props.card.name}`}</figcaption>\n        </figure>\n        <button type=\"button\" className=\"popup__close popup__close_role_image\" aria-label=\"Close\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function PopupWithForm(props) {\n    const [isValid, updateFormValidity] = React.useState(false);\n    const formRef = React.useRef();\n\n    React.useEffect(() => {\n        updateFormValidity(formRef.current.checkValidity());\n      }, [props.isOpen]);\n    \n      function checkFormValidity() {\n        updateFormValidity(formRef.current.checkValidity());\n      }\n  return (\n    <>\n      <div className={`popup popup_role_${props.name} ${props.isOpen && \"popup_opened\"}`}>\n          <div className=\"popup__container\">\n              <form    noValidate\n            ref={formRef}\n            onChange={checkFormValidity}\n            onSubmit={props.onSubmit} action=\"#\" name={props.title} className={`popup__form popup__form_role_${props.name}`}>\n                  <h2 className=\"popup__header\">{props.title}</h2>\n                  {props.children}\n                  <button type=\"submit\" className={`popup__save-button popup__save-button_role_${props.name} ${!isValid && 'popup__save-button_disabled'}`}\n              disabled={!isValid}>\n              {props.buttonLabel}\n                  </button>\n              </form>\n              <button type=\"button\" className={`popup__close popup__close_role_${props.name}`} aria-label=\"Close\" onClick={props.onClose}></button>\n          </div>\n      </div>\n    </>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser, isSubmitting, checkValidity, onOverlayClick }) {\r\n  const [name, updateName] = React.useState('');\r\n  const [description, updateAbout] = React.useState('');\r\n  const [isNameInputValid, updateNameInputValidity] = React.useState(true);\r\n  const [isAboutInputValid, updateAboutInputValidity] = React.useState(true);\r\n  const [nameErrorMessage, updateNameErrorMessage] = React.useState('');\r\n  const [aboutErrorMessage, updateAboutErrorMessage] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChange(evt, stateUpdater, inputValidityUpdater, errorMessageUpdater) {\r\n    stateUpdater(evt.target.value);\r\n    checkValidity(evt, inputValidityUpdater, errorMessageUpdater);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    updateName(currentUser.name || '');\r\n    updateAbout(currentUser.about || '');\r\n    updateNameInputValidity(true);\r\n    updateAboutInputValidity(true);\r\n  }, [currentUser, isOpen]);\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        onSubmit={handleSubmit}\r\n        name=\"edit\"\r\n        title=\"Edit Profile\"\r\n        buttonLabel={isSubmitting ? 'Saving...' : 'Save'}\r\n        isOpen={isOpen}\r\n        onClose={onClose}>\r\n        <div className=\"popup__input-container\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            name=\"name\"\r\n            placeholder=\"Name\"\r\n            value={name}\r\n            onChange={evt => handleChange(evt, updateName, updateNameInputValidity, updateNameErrorMessage)}\r\n            className=\"popup__input popup__input_role_name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n          />\r\n          <span className={`popup__input-error popup__input-error_name ${!isNameInputValid && 'popup__input-error_active'}`}>{nameErrorMessage}</span>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            name=\"about\"\r\n            placeholder=\"Title\"\r\n            value={description}\r\n            onChange={evt => handleChange(evt, updateAbout, updateAboutInputValidity, updateAboutErrorMessage)}\r\n            className=\"popup__input popup__input_role_title\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n          />\r\n          <span className={`popup__input-error popup__input-error_title ${!isAboutInputValid && 'popup__input-error_active'}`}>\r\n            {aboutErrorMessage}\r\n          </span>\r\n        </div>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isSubmitting, checkValidity }) {\r\n  const inputRef = React.useRef();\r\n  const [isUrlInputValid, updateUrlInputValidity] = React.useState(true);\r\n  const [errorMessage, updateErrorMessage] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    inputRef.current.value = '';\r\n    updateUrlInputValidity(true);\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        onSubmit={handleSubmit}\r\n        name=\"avatar\"\r\n        title=\"Change Profile Picture\"\r\n        buttonLabel={isSubmitting ? 'Saving...' : 'Save'}\r\n        isOpen={isOpen}\r\n        onClose={onClose}>\r\n        <div className=\"popup__input-container popup__input-container_role_avatar\">\r\n          <input\r\n            ref={inputRef}\r\n            onChange={evt => checkValidity(evt, updateUrlInputValidity, updateErrorMessage)}\r\n            type=\"url\"\r\n            id=\"avatar-url\"\r\n            name=\"avatar\"\r\n            placeholder=\"Image link\"\r\n            className=\"popup__input popup__input_role_image-link\"\r\n            required\r\n          />\r\n          <span className={`popup__input-error popup__input-error_avatar-url ${!isUrlInputValid && 'popup__input-error_active'}`}>\r\n            {errorMessage}\r\n          </span>\r\n        </div>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup(props) {\r\n  const [name, updateName] = React.useState('');\r\n  const [link, updateLink] = React.useState('');\r\n  const [isNameInputValid, updateNameInputValidity] = React.useState(true);\r\n  const [isLinkInputValid, updateLinkInputValidity] = React.useState(true);\r\n  const [nameErrorMessage, updateNameErrorMessage] = React.useState('');\r\n  const [linkErrorMessage, updateLinkErrorMessage] = React.useState('');\r\n\r\n  function handleChange(e, stateUpdater, inputValidityUpdater, errorMessageUpdater) {\r\n    stateUpdater(e.target.value);\r\n    props.checkValidity(e, inputValidityUpdater, errorMessageUpdater);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    updateName('');\r\n    updateLink('');\r\n    updateNameInputValidity(true);\r\n    updateLinkInputValidity(true);\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        name=\"add\"\r\n        title=\"New Place\"\r\n        buttonLabel={props.isSubmitting ? 'Saving...' : 'Save'}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}>\r\n        <div className=\"popup__input-container\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"place\"\r\n            name=\"name\"\r\n            placeholder=\"Title\"\r\n            className=\"popup__input popup__input_role_image-title\"\r\n            required\r\n            minLength=\"1\"\r\n            maxLength=\"30\"\r\n            value={name}\r\n            onChange={e => handleChange(e, updateName, updateNameInputValidity, updateNameErrorMessage)}\r\n          />\r\n          <span className={`popup__input-error popup__input-error_place ${!isNameInputValid && 'popup__input-error_active'}`}>\r\n            {nameErrorMessage}\r\n          </span>\r\n          <input\r\n            type=\"url\"\r\n            id=\"url\"\r\n            name=\"link\"\r\n            placeholder=\"Image link\"\r\n            className=\"popup__input popup__input_role_image-link\"\r\n            value={link}\r\n            onChange={e => handleChange(e, updateLink, updateLinkInputValidity, updateLinkErrorMessage)}\r\n            required\r\n          />\r\n          <span className={`popup__input-error popup__input-error_url ${!isLinkInputValid && 'popup__input-error_active'}`}>{linkErrorMessage}</span>\r\n        </div>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nexport default function DeletePlacePopup({ isOpen, onClose, onDeletePlace, card, isSubmitting }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeletePlace(card);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        onSubmit={handleSubmit}\r\n        name=\"delete\"\r\n        title=\"Are You Sure?\"\r\n        buttonLabel={isSubmitting ? 'Deleting...' : 'Yes'}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n      />\r\n    </>\r\n  );\r\n}","class Api {\n  constructor({ baseUrl, authorization }) {\n    // constructor body\n    this._baseUrl = baseUrl;\n    this._auth = authorization;\n  }\n\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`${res.status} error!`);\n    }\n    return res.json();\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._auth,\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  getGroupCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._auth,\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  updateProfile({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(res => this._checkResponse(res));\n  }\n\n  updateAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ avatar: avatar }),\n    }).then(res => this._checkResponse(res));\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(res => this._checkResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    const method = isLiked ? 'DELETE' : 'PUT';\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: method,\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n    }).then(res => this._checkResponse(res));\n  }\n}\n\n\nconst api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-12',\n  authorization: '9b815c88-30e1-42fa-b363-04c78bf0d633',\n});\n\nexport default api;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePlacePopup from './DeletePlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\n\n\n\nfunction App() {\n  const [isEditAvatarPopupOpen, updateAvatarPopupState] = React.useState(false);\n  const [isEditProfilePopupOpen, updateEditProfilePopupState] = React.useState(false);\n  const [isAddPlacePopupOpen, updateAddPlacePopupState] = React.useState(false);\n  const [isDeletePlacePopupOpen, updateDeletePlacePopupState] = React.useState(false);\n  const [isSubmitPending, updateSubmitPendingStatus] = React.useState(false);\n  const [selectedCard, updateSelectedCard] = React.useState(null);\n  const [cardQueuedForDeletion, updateCardQueuedForDeletion] = React.useState(null);\n  const [isLoading, updateLoading] = React.useState(true);\n  const [currentUser, updateCurrentUser] = React.useState({});\n  const [cards, updateCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getGroupCards()\n      .then(data => {\n        updateCards(data);\n      })\n      .catch(err => console.error(`Problem fetching cards cards: ${err}`));\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then(res => {\n        updateCurrentUser(res);\n        updateLoading(false);\n      })\n      .catch(err => console.error(`Problem fetching user information: ${err}`));\n  }, []);\n\n\n  function handleAvatarClick() {\n    updateAvatarPopupState(true);\n    window.addEventListener('keydown', handleCloseOnEscape);\n    window.addEventListener('click', handleCloseOnOverlay);\n  }\n\n  function handleEditProfileClick() {\n    updateEditProfilePopupState(true);\n    window.addEventListener('keydown', handleCloseOnEscape);\n    window.addEventListener('click', handleCloseOnOverlay);\n  }\n\n  function handleAddPlaceClick() {\n    updateAddPlacePopupState(true);\n    window.addEventListener('keydown', handleCloseOnEscape);\n    window.addEventListener('click', handleCloseOnOverlay);\n  }\n\n  function handleCardClick(cardData) {\n    updateSelectedCard(cardData);\n    window.addEventListener('keydown', handleCloseOnEscape);\n    window.addEventListener('click', handleCloseOnOverlay);\n  }\n\n  function handleDeletePlaceClick(cardData) {\n    updateDeletePlacePopupState(true);\n    updateCardQueuedForDeletion(cardData);\n    window.addEventListener('keydown', handleCloseOnEscape);\n    window.addEventListener('click', handleCloseOnOverlay);\n  }\n\n  function handleUpdateUser(userData) {\n    updateSubmitPendingStatus(true);\n    api\n      .updateProfile(userData)\n      .then(res => {\n        updateCurrentUser(res);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch(err => console.error(`Problem updating profile: ${err}`));\n  }\n\n  function handleUpdateAvatar(userData) {\n    updateSubmitPendingStatus(true);\n    api\n      .updateAvatar(userData)\n      .then(res => {\n        updateCurrentUser(res);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch(err => console.error(`Problem updating avatar: ${err}`));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then(likedCard => {\n        updateCards(cards.map(cardItem => (cardItem._id === card._id ? likedCard : cardItem)));\n      })\n      .catch(err => console.error(`Problem updating 'like' status: ${err}`));\n  }\n\n  function handleDeletePlaceSubmit(card) {\n    updateSubmitPendingStatus(true);\n    api\n      .deleteCard(card._id)\n      .then(response => {\n        updateCards(cards.filter(stateCard => stateCard !== card));\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch(err => console.error(`Problem deleting card: ${err}`));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    updateSubmitPendingStatus(true);\n    api\n      .addCard(card)\n      .then(newCard => {\n        updateCards([newCard, ...cards]);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch(err => console.error(`Problem adding new place: ${err}`));\n  }\n\n  function updateInputValidity(evt, inputValidityUpdater, errorMessageUpdater) {\n    if (!evt.target.validity.valid) {\n      inputValidityUpdater(false);\n      errorMessageUpdater(evt.target.validationMessage);\n    } else {\n      inputValidityUpdater(true);\n      errorMessageUpdater('');\n    }\n  }\n\n  function closeAllPopups() {\n    updateAvatarPopupState(false);\n    updateEditProfilePopupState(false);\n    updateAddPlacePopupState(false);\n    updateDeletePlacePopupState(false);\n    updateSelectedCard(null);\n    window.removeEventListener('keydown', handleCloseOnEscape);\n    window.removeEventListener('click', handleCloseOnOverlay);\n  }\n\n  function handleCloseOnEscape(e) {\n    e.key === 'Escape' && closeAllPopups();\n  }\n  function handleCloseOnOverlay(e) {\n    e.target.classList.contains('popup') && closeAllPopups();\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditAvatarClick={handleAvatarClick}\n          onEditProfileClick={handleEditProfileClick}\n          onAddPlaceClick={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          isLoading={isLoading}\n          onCardLike={handleCardLike}\n          onDeletePlaceClick={handleDeletePlaceClick}\n          cards={cards}\n        />\n        <Footer />\n        <EditProfilePopup\n          isSubmitting={isSubmitPending}\n          onUpdateUser={handleUpdateUser}\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          checkValidity={updateInputValidity}\n        />\n        <AddPlacePopup\n          isSubmitting={isSubmitPending}\n          onAddPlace={handleAddPlaceSubmit}\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          checkValidity={updateInputValidity}\n        />\n        <EditAvatarPopup\n          isSubmitting={isSubmitPending}\n          onUpdateAvatar={handleUpdateAvatar}\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          checkValidity={updateInputValidity}\n        />\n        <DeletePlacePopup\n          isSubmitting={isSubmitPending}\n          card={cardQueuedForDeletion}\n          onDeletePlace={handleDeletePlaceSubmit}\n          isOpen={isDeletePlacePopupOpen}\n          onClose={closeAllPopups}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}