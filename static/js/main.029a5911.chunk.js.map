{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","id","src","logo","alt","CurrentUserContext","React","createContext","Card","cardData","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","like","link","name","onClick","type","length","Main","props","avatar","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","map","card","index","onDeletePlaceClick","Footer","ImagePopup","onClose","PopupWithForm","useState","isValid","updateFormValidity","formRef","useRef","useEffect","current","checkValidity","isOpen","noValidate","ref","onChange","onSubmit","action","title","children","disabled","buttonLabel","EditProfilePopup","onUpdateUser","isSubmitting","onOverlayClick","updateName","description","updateAbout","isNameInputValid","updateNameInputValidity","isAboutInputValid","updateAboutInputValidity","nameErrorMessage","updateNameErrorMessage","aboutErrorMessage","updateAboutErrorMessage","handleChange","evt","stateUpdater","inputValidityUpdater","errorMessageUpdater","target","value","e","preventDefault","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","inputRef","isUrlInputValid","updateUrlInputValidity","errorMessage","updateErrorMessage","AddPlacePopup","updateLink","isLinkInputValid","updateLinkInputValidity","linkErrorMessage","updateLinkErrorMessage","onAddPlace","DeletePlacePopup","onDeletePlace","api","baseUrl","authorization","this","_baseUrl","_auth","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","method","body","JSON","stringify","cardId","App","isEditAvatarPopupOpen","updateAvatarPopupState","isEditProfilePopupOpen","updateEditProfilePopupState","isAddPlacePopupOpen","updateAddPlacePopupState","isDeletePlacePopupOpen","updateDeletePlacePopupState","isSubmitPending","updateSubmitPendingStatus","selectedCard","updateSelectedCard","cardQueuedForDeletion","updateCardQueuedForDeletion","isLoading","updateLoading","updateCurrentUser","updateCards","updateInputValidity","validity","valid","validationMessage","closeAllPopups","window","removeEventListener","handleCloseOnEscape","handleCloseOnOverlay","key","classList","contains","getGroupCards","data","catch","err","console","log","getUserInfo","Provider","addEventListener","changeLikeCardStatus","likedCard","cardItem","userData","updateProfile","finally","addCard","newCard","updateAvatar","deleteCard","response","filter","stateCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.029a5911.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from '../images/logo.svg';\n\nexport default function Header() {\n  return (\n    <>\n      <header className=\"header\">\n        <img id=\"logo\" src={logo} alt=\"Around the U.S.\" className=\"logo\" />\n      </header>\n    </>\n  );\n}\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function Card({ cardData, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = cardData.owner._id === currentUser._id;\n    const isLiked = cardData.likes.some((like) => like._id === currentUser._id);\n\n    function handleClick() {\n        onCardClick(cardData);\n    }\n\n    function handleLike() {\n        onCardLike(cardData);\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(cardData);\n    }\n\n    return (\n        <article className=\"card\">\n            <img className=\"card__image\" src={cardData.link} alt={`${cardData.name} taken by ${cardData.owner.name}`} onClick={handleClick} />\n            <div className=\"card__name-box\">\n                <h2 className=\"card__name\">{cardData.name}</h2>\n                <div className=\"card__like-container\">\n                    <button type=\"button\" name=\"Like image\" onClick={handleLike} className={`card__heart ${isLiked && \"card__heart_liked\"}`} aria-label=\"Like photo\"></button>\n                    <p className=\"card__likes\">{cardData.likes.length}</p>\n                </div>\n            </div>\n            <button type=\"button\" name=\"Delete image\" onClick={handleDeleteClick} className={`card__delete ${isOwn ? \"card__delete_visable\" : \"card__delete_hidden\"}`} aria-label=\"Delete photo\"></button>\n        </article>\n    );\n}\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__info-box\">\n                    <div className=\"profile__avatar-wrapper\">\n                        <img id=\"avatar\" src={currentUser.avatar} alt=\"avatar\" className=\"profile__avatar\"/>\n                        <div onClick={props.onEditAvatarClick} className=\"profile__avatar-overlay\"></div>\n                    </div>\n                    <div className=\"profile__text\">\n                        <div className=\"profile__text-top\">\n                            <h1 className= \"profile__name\" >{currentUser.name}</h1>\n                            <button onClick={props.onEditProfileClick} type=\"button\" name=\"Edit profile\" className= \"profile__edit-button\"  aria-label=\"Edit profile\"></button>\n                        </div>\n                        <p className= \"profile__title\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button onClick={props.onAddPlaceClick} type=\"button\" name=\"Add image\" className=\"profile__add-button\" aria-label=\"Add image\"></button>\n            </section>\n            <section className=\"cards\">\n                {props.cards.map((card, index) => (\n                    <Card key={card._id} cardData={card} onCardClick={props.onCardClick} onCardDelete={props.onDeletePlaceClick} onCardLike={props.onCardLike} />\n                ))}\n            </section>\n        </main>\n    );\n}","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Around the U.S.</p>\n    </footer>\n  );\n}","export default function ImagePopup(props) {\n  return (\n      <div className={`popup popup_role_image ${props.card && \"popup_opened\"}`}>\n          <div className=\"popup__container popup__container_role_image\">\n              <figure className=\"popup__figure\">\n                  <img src={`${props.card ? props.card.link : \"#\"}`} alt=\"#\" className=\"popup__image\" />\n                  <figcaption className=\"popup__caption\">{`${props.card && props.card.name}`}</figcaption>\n              </figure>\n              <button type=\"button\" className=\"popup__close popup__close_role_image\" aria-label=\"Close\" onClick={props.onClose}></button>\n          </div>\n      </div>\n  );\n}\n\n","import React from \"react\";\n\nexport default function PopupWithForm(props) {\n    const [isValid, updateFormValidity] = React.useState(false);\n    const formRef = React.useRef();\n\n    React.useEffect(() => {\n        updateFormValidity(formRef.current.checkValidity());\n    }, [props.isOpen]);\n\n    function checkFormValidity() {\n        updateFormValidity(formRef.current.checkValidity());\n    }\n    return (\n        <>\n            <div className={`popup popup_role_${props.name} ${props.isOpen && \"popup_opened\"}`}>\n                <div className=\"popup__container\">\n                    <form noValidate ref={formRef} onChange={checkFormValidity} onSubmit={props.onSubmit} action=\"#\" name={props.title} className={`popup__form popup__form_role_${props.name}`}>\n                        <h2 className=\"popup__header\">{props.title}</h2>\n                        {props.children}\n                        <button type=\"submit\" className={`popup__save-button popup__save-button_role_${props.name} ${!isValid && \"popup__save-button_disabled\"}`} disabled={!isValid}>\n                            {props.buttonLabel}\n                        </button>\n                    </form>\n                    <button type=\"button\" className={`popup__close popup__close_role_${props.name}`} aria-label=\"Close\" onClick={props.onClose}></button>\n                </div>\n            </div>\n        </>\n    );\n}","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser, isSubmitting, checkValidity, onOverlayClick }) {\r\n    const [name, updateName] = React.useState(\"\");\r\n    const [description, updateAbout] = React.useState(\"\");\r\n    const [isNameInputValid, updateNameInputValidity] = React.useState(true);\r\n    const [isAboutInputValid, updateAboutInputValidity] = React.useState(true);\r\n    const [nameErrorMessage, updateNameErrorMessage] = React.useState(\"\");\r\n    const [aboutErrorMessage, updateAboutErrorMessage] = React.useState(\"\");\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleChange(evt, stateUpdater, inputValidityUpdater, errorMessageUpdater) {\r\n        stateUpdater(evt.target.value);\r\n        checkValidity(evt, inputValidityUpdater, errorMessageUpdater);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (currentUser) {\r\n        updateName(currentUser.name || '');\r\n        updateAbout(currentUser.about || '');\r\n        updateNameInputValidity(true);\r\n        updateAboutInputValidity(true);\r\n      } \r\n    },[currentUser, isOpen]);\r\n    \r\n    return (\r\n        <>\r\n            <PopupWithForm onSubmit={handleSubmit} name=\"edit\" title=\"Edit Profile\" buttonLabel={isSubmitting ? \"Saving...\" : \"Save\"} isOpen={isOpen} onClose={onClose}>\r\n                <div className=\"popup__input-container\">\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        name=\"name\"\r\n                        placeholder=\"Name\"\r\n                        value={name}\r\n                        onChange={(evt) => handleChange(evt, updateName, updateNameInputValidity, updateNameErrorMessage)}\r\n                        className=\"popup__input popup__input_role_name\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                    />\r\n                    <span className={`popup__input-error popup__input-error_name ${!isNameInputValid && \"popup__input-error_active\"}`}>{nameErrorMessage}</span>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"title\"\r\n                        name=\"about\"\r\n                        placeholder=\"Title\"\r\n                        value={description}\r\n                        onChange={(evt) => handleChange(evt, updateAbout, updateAboutInputValidity, updateAboutErrorMessage)}\r\n                        className=\"popup__input popup__input_role_title\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                    />\r\n                    <span className={`popup__input-error popup__input-error_title ${!isAboutInputValid && \"popup__input-error_active\"}`}>{aboutErrorMessage}</span>\r\n                </div>\r\n            </PopupWithForm>\r\n        </>\r\n    );\r\n}\r\n","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isSubmitting, checkValidity }) {\r\n    const inputRef = React.useRef();\r\n    const [isUrlInputValid, updateUrlInputValidity] = React.useState(true);\r\n    const [errorMessage, updateErrorMessage] = React.useState(\"\");\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar({\r\n            avatar: inputRef.current.value,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        inputRef.current.value = \"\";\r\n        updateUrlInputValidity(true);\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <>\r\n            <PopupWithForm onSubmit={handleSubmit} name=\"avatar\" title=\"Change Profile Picture\" buttonLabel={isSubmitting ? \"Saving...\" : \"Save\"} isOpen={isOpen} onClose={onClose}>\r\n                <div className=\"popup__input-container popup__input-container_role_avatar\">\r\n                    <input\r\n                        ref={inputRef}\r\n                        onChange={(evt) => checkValidity(evt, updateUrlInputValidity, updateErrorMessage)}\r\n                        type=\"url\"\r\n                        id=\"avatar-url\"\r\n                        name=\"avatar\"\r\n                        placeholder=\"Image link\"\r\n                        className=\"popup__input popup__input_role_image-link\"\r\n                        required\r\n                    />\r\n                    <span className={`popup__input-error popup__input-error_avatar-url ${!isUrlInputValid && \"popup__input-error_active\"}`}>{errorMessage}</span>\r\n                </div>\r\n            </PopupWithForm>\r\n        </>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n    const [name, updateName] = React.useState(\"\");\r\n    const [link, updateLink] = React.useState(\"\");\r\n    const [isNameInputValid, updateNameInputValidity] = React.useState(true);\r\n    const [isLinkInputValid, updateLinkInputValidity] = React.useState(true);\r\n    const [nameErrorMessage, updateNameErrorMessage] = React.useState(\"\");\r\n    const [linkErrorMessage, updateLinkErrorMessage] = React.useState(\"\");\r\n\r\n    function handleChange(e, stateUpdater, inputValidityUpdater, errorMessageUpdater) {\r\n        stateUpdater(e.target.value);\r\n        props.checkValidity(e, inputValidityUpdater, errorMessageUpdater);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name,\r\n            link,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        updateName(\"\");\r\n        updateLink(\"\");\r\n        updateNameInputValidity(true);\r\n        updateLinkInputValidity(true);\r\n    }, [props.isOpen]);\r\n\r\n    return (\r\n        <>\r\n            <PopupWithForm name=\"add\" title=\"New Place\" buttonLabel={props.isSubmitting ? \"Saving...\" : \"Save\"} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n                <div className=\"popup__input-container\">\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"place\"\r\n                        name=\"name\"\r\n                        placeholder=\"Title\"\r\n                        className=\"popup__input popup__input_role_image-title\"\r\n                        required\r\n                        minLength=\"1\"\r\n                        maxLength=\"30\"\r\n                        value={name}\r\n                        onChange={(e) => handleChange(e, updateName, updateNameInputValidity, updateNameErrorMessage)}\r\n                    />\r\n                    <span className={`popup__input-error popup__input-error_place ${!isNameInputValid && \"popup__input-error_active\"}`}>{nameErrorMessage}</span>\r\n                    <input\r\n                        type=\"url\"\r\n                        id=\"url\"\r\n                        name=\"link\"\r\n                        placeholder=\"Image link\"\r\n                        className=\"popup__input popup__input_role_image-link\"\r\n                        value={link}\r\n                        onChange={(e) => handleChange(e, updateLink, updateLinkInputValidity, updateLinkErrorMessage)}\r\n                        required\r\n                    />\r\n                    <span className={`popup__input-error popup__input-error_url ${!isLinkInputValid && \"popup__input-error_active\"}`}>{linkErrorMessage}</span>\r\n                </div>\r\n            </PopupWithForm>\r\n        </>\r\n    );\r\n}","import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\n\r\nexport default function DeletePlacePopup({ isOpen, onClose, onDeletePlace, card, isSubmitting }) {\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onDeletePlace(card);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <PopupWithForm onSubmit={handleSubmit} name=\"delete\" title=\"Are You Sure?\" buttonLabel={isSubmitting ? \"Deleting...\" : \"Yes\"} isOpen={isOpen} onClose={onClose} />\r\n        </>\r\n    );\r\n}\r\n","class Api {\n  constructor({ baseUrl, authorization }) {\n      // constructor body\n      this._baseUrl = baseUrl;\n      this._auth = authorization;\n  }\n\n  _checkResponse(res) {\n      if (!res.ok) {\n          return Promise.reject(`${res.status} error!`);\n      }\n      return res.json();\n  }\n\n  getUserInfo() {\n      return fetch(`${this._baseUrl}/users/me`, {\n          headers: {\n              authorization: this._auth,\n          },\n      }).then((res) => this._checkResponse(res));\n  }\n\n  getGroupCards() {\n      return fetch(`${this._baseUrl}/cards`, {\n          headers: {\n              authorization: this._auth,\n          },\n      }).then((res) => this._checkResponse(res));\n  }\n\n  updateProfile({ name, about }) {\n      return fetch(`${this._baseUrl}/users/me`, {\n          method: \"PATCH\",\n          headers: {\n              authorization: this._auth,\n              \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n              name: name,\n              about: about,\n          }),\n      }).then((res) => this._checkResponse(res));\n  }\n\n  updateAvatar({ avatar }) {\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\n          method: \"PATCH\",\n          headers: {\n              authorization: this._auth,\n              \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ avatar: avatar }),\n      }).then((res) => this._checkResponse(res));\n  }\n\n  addCard({ name, link }) {\n      return fetch(`${this._baseUrl}/cards`, {\n          method: \"POST\",\n          headers: {\n              authorization: this._auth,\n              \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n              name,\n              link,\n          }),\n      }).then((res) => this._checkResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n      const method = isLiked ? \"DELETE\" : \"PUT\";\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n          method: method,\n          headers: {\n              authorization: this._auth,\n              \"Content-Type\": \"application/json\",\n          },\n      }).then((res) => this._checkResponse(res));\n  }\n\n  likeCard(cardId) {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n          method: \"PUT\",\n          headers: {\n              authorization: this._auth,\n              \"Content-Type\": \"application/json\",\n          },\n      }).then((res) => this._checkResponse(res));\n  }\n\n  removeLike(cardId) {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n          method: \"DELETE\",\n          headers: {\n              authorization: this._auth,\n              \"Content-Type\": \"application/json\",\n          },\n      }).then((res) => this._checkResponse(res));\n  }\n\n  deleteCard(cardId) {\n      return fetch(`${this._baseUrl}/cards/${cardId}`, {\n          method: \"DELETE\",\n          headers: {\n              authorization: this._auth,\n              \"Content-Type\": \"application/json\",\n          },\n      }).then((res) => this._checkResponse(res));\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-12',\n  authorization: '9b815c88-30e1-42fa-b363-04c78bf0d633',\n});\n\nexport default api;","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeletePlacePopup from \"./DeletePlacePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\n\nfunction App() {\n    const [isEditAvatarPopupOpen, updateAvatarPopupState] = React.useState(false);\n    const [isEditProfilePopupOpen, updateEditProfilePopupState] = React.useState(false);\n    const [isAddPlacePopupOpen, updateAddPlacePopupState] = React.useState(false);\n    const [isDeletePlacePopupOpen, updateDeletePlacePopupState] = React.useState(false);\n    const [isSubmitPending, updateSubmitPendingStatus] = React.useState(false);\n    const [selectedCard, updateSelectedCard] = React.useState(null);\n    const [cardQueuedForDeletion, updateCardQueuedForDeletion] = React.useState(null);\n    const [isLoading, updateLoading] = React.useState(true);\n    const [currentUser, updateCurrentUser] = React.useState({});\n    const [cards, updateCards] = React.useState([]);\n\n    React.useEffect(() => {\n        api.getGroupCards()\n            .then((data) => {\n                updateCards(data);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    React.useEffect(() => {\n        api.getUserInfo()\n            .then((res) => {\n                updateCurrentUser(res);\n                updateLoading(false);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    function handleAvatarClick() {\n        updateAvatarPopupState(true);\n        window.addEventListener(\"keydown\", handleCloseOnEscape);\n        window.addEventListener(\"click\", handleCloseOnOverlay);\n    }\n\n    function handleEditProfileClick() {\n        updateEditProfilePopupState(true);\n        window.addEventListener(\"keydown\", handleCloseOnEscape);\n        window.addEventListener(\"click\", handleCloseOnOverlay);\n    }\n\n    function handleAddPlaceClick() {\n        updateAddPlacePopupState(true);\n        window.addEventListener(\"keydown\", handleCloseOnEscape);\n        window.addEventListener(\"click\", handleCloseOnOverlay);\n    }\n\n    function handleCardClick(cardData) {\n        updateSelectedCard(cardData);\n        window.addEventListener(\"keydown\", handleCloseOnEscape);\n        window.addEventListener(\"click\", handleCloseOnOverlay);\n    }\n\n    function handleDeletePlaceClick(cardData) {\n        updateDeletePlacePopupState(true);\n        updateCardQueuedForDeletion(cardData);\n        window.addEventListener(\"keydown\", handleCloseOnEscape);\n        window.addEventListener(\"click\", handleCloseOnOverlay);\n    }\n\n    function handleUpdateUser(userData) {\n        updateSubmitPendingStatus(true);\n        api.updateProfile(userData)\n            .then((res) => {\n                updateCurrentUser(res);\n                closeAllPopups();\n                updateSubmitPendingStatus(false);\n            })\n            .catch((err) => {\n                console.log(err)})\n                .finally(() => {\n                    updateSubmitPendingStatus(false);\n                });\n    }\n\n    function handleUpdateAvatar(userData) {\n        updateSubmitPendingStatus(true);\n        api.updateAvatar(userData)\n            .then((res) => {\n                updateCurrentUser(res);\n                closeAllPopups();\n                updateSubmitPendingStatus(false);\n            })\n            .catch((err) => {\n                console.log(err)})\n                .finally(() => {\n                    updateSubmitPendingStatus(false);\n                });\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some((like) => like._id === currentUser._id);\n        api.changeLikeCardStatus(card._id, isLiked)\n            .then((likedCard) => {\n                updateCards(cards.map((cardItem) => (cardItem._id === card._id ? likedCard : cardItem)));\n            })\n            .catch((err) => {\n                console.log(`${err}`);\n              });\n    }\n\n    function handleDeletePlaceSubmit(card) {\n        updateSubmitPendingStatus(true);\n        api.deleteCard(card._id)\n            .then((response) => {\n                updateCards(cards.filter((stateCard) => stateCard !== card));\n                closeAllPopups();\n                updateSubmitPendingStatus(false);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n            .finally(() => {\n                updateSubmitPendingStatus(false);\n              });\n    }\n\n    function handleAddPlaceSubmit(card) {\n        updateSubmitPendingStatus(true);\n        api.addCard(card)\n            .then((newCard) => {\n                updateCards([newCard, ...cards]);\n                closeAllPopups();\n                updateSubmitPendingStatus(false);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n            .finally(() => {\n                updateSubmitPendingStatus(false);\n              });\n    }\n\n    function updateInputValidity(evt, inputValidityUpdater, errorMessageUpdater) {\n        if (!evt.target.validity.valid) {\n            inputValidityUpdater(false);\n            errorMessageUpdater(evt.target.validationMessage);\n        } else {\n            inputValidityUpdater(true);\n            errorMessageUpdater(\"\");\n        }\n    }\n\n    function closeAllPopups() {\n        updateAvatarPopupState(false);\n        updateEditProfilePopupState(false);\n        updateAddPlacePopupState(false);\n        updateDeletePlacePopupState(false);\n        updateSelectedCard(null);\n        window.removeEventListener(\"keydown\", handleCloseOnEscape);\n        window.removeEventListener(\"click\", handleCloseOnOverlay);\n    }\n\n    function handleCloseOnEscape(e) {\n        e.key === \"Escape\" && closeAllPopups();\n    }\n    function handleCloseOnOverlay(e) {\n        e.target.classList.contains(\"popup\") && closeAllPopups();\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header />\n                <Main\n                    onEditAvatarClick={handleAvatarClick}\n                    onEditProfileClick={handleEditProfileClick}\n                    onAddPlaceClick={handleAddPlaceClick}\n                    onCardClick={handleCardClick}\n                    isLoading={isLoading}\n                    onCardLike={handleCardLike}\n                    onDeletePlaceClick={handleDeletePlaceClick}\n                    cards={cards}\n                />\n                <Footer />\n                <EditProfilePopup isSubmitting={isSubmitPending} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} checkValidity={updateInputValidity} />\n                <AddPlacePopup isSubmitting={isSubmitPending} onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} checkValidity={updateInputValidity} />\n                <EditAvatarPopup isSubmitting={isSubmitPending} onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} checkValidity={updateInputValidity} />\n                <DeletePlacePopup isSubmitting={isSubmitPending} card={cardQueuedForDeletion} onDeletePlace={handleDeletePlaceSubmit} isOpen={isDeletePlacePopupOpen} onClose={closeAllPopups} />\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}